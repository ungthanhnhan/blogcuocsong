<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BLOG CUỘC SỐNG</title>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    /* General Styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
    }

    header {
      background-color: #ffadad;
      color: #721c24;
      padding: 20px 40px;
      text-align: center;
      font-size: 2.5em;
      font-family: 'Courier New', Courier, monospace;
      letter-spacing: 2px;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
    }

    header h1 {
      margin: 0;
    }

    .logo {
      font-size: 3em;
      color: #333;
      font-weight: bold;
      animation: fadeIn 2s;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .login-btn {
      background-color: #28a745;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1em;
      margin-left: 20px;
    }

    .login-btn:hover {
      background-color: #218838;
    }

    /* Container */
    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 20px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    input[type="text"], input[type="password"], textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    button {
      padding: 10px 20px;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #555;
    }

    #editor {
      height: 300px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }

    #blog-posts {
      margin-top: 20px;
    }

    .post {
      padding: 10px;
      margin-bottom: 15px;
      background-color: #fafafa;
      border-left: 5px solid #333;
    }

    /* Toolbar Icons */
    .toolbar span {
      font-size: 1.5em;
      margin: 5px;
      cursor: pointer;
      transition: color 0.3s;
    }

    .toolbar span:hover {
      color: #007bff;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
        margin: 10px;
      }

      header {
        padding: 8px 16px;
      }

      #editor {
        height: 250px;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 5px;
        margin: 5px;
      }

      header {
        padding: 5px 10px;
      }

      #editor {
        height: 200px;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1 class="logo">BLOG CUỘC SỐNG</h1>
    <button id="logoutBtn" class="login-btn" style="display: none;" onclick="logout()">Đăng xuất</button>
  </header>

  <div class="container" id="login-container">
    <h2>Đăng nhập</h2>
    <div class="form-group">
      <input type="text" id="loginUsername" placeholder="Tên đăng nhập" required>
    </div>
    <div class="form-group">
      <input type="password" id="loginPassword" placeholder="Mật khẩu" required>
    </div>
    <button onclick="login()">Đăng nhập</button>
    <p>Bạn chưa có tài khoản? <a href="javascript:void(0);" onclick="showRegister()">Đăng ký ngay</a></p>
  </div>

  <div class="container" id="register-container" style="display: none;">
    <h2>Đăng ký</h2>
    <div class="form-group">
      <input type="text" id="registerUsername" placeholder="Tên đăng nhập" required>
    </div>
    <div class="form-group">
      <input type="password" id="registerPassword" placeholder="Mật khẩu" required>
    </div>
    <button onclick="register()">Đăng ký</button>
    <p>Đã có tài khoản? <a href="javascript:void(0);" onclick="showLogin()">Đăng nhập ngay</a></p>
  </div>

  <div class="container" id="blog-container" style="display: none;">
    <h2>Viết Blog</h2>
    <div class="toolbar">
      <select id="fontSize" onchange="changeFontSize()">
        <option value="12">12</option>
        <option value="14">14</option>
        <option value="16">16</option>
        <option value="18">18</option>
        <option value="20">20</option>
        <option value="22">22</option>
        <option value="24">24</option>
      </select>
      <span class="fa fa-bold" onclick="toggleBold()"></span>
      <span class="fa fa-italic" onclick="toggleItalic()"></span>
      <span class="fa fa-underline" onclick="toggleUnderline()"></span>
      <span class="fa fa-list-ul" onclick="toggleList()"></span>
      <span class="fa fa-image" onclick="insertImage()"></span>
    </div>
    <div id="editor"></div>
    <button onclick="savePost()">Lưu bài viết</button>
    <h3>Bài viết của bạn</h3>
    <div id="blog-posts"></div>
  </div>

  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <script>
    // Khởi tạo Quill.js
    var quill = new Quill('#editor', {
      theme: 'snow',
      modules: {
        toolbar: [
          ['bold', 'italic', 'underline'],
          [{ 'list': 'ordered'}, { 'list': 'bullet' }],
          ['image']
        ]
      }
    });

    // Tính năng ghi nhớ đăng nhập
    window.onload = function() {
      const username = localStorage.getItem('username');
      if (username) {
        document.getElementById('login-container').style.display = 'none';
        document.getElementById('blog-container').style.display = 'block';
        document.getElementById('logoutBtn').style.display = 'inline-block';
        alert('Chào mừng trở lại, ' + username);
      } else {
        document.getElementById('login-container').style.display = 'block';
        document.getElementById('blog-container').style.display = 'none';
      }
    };

    // Đăng nhập
    function login() {
      const username = document.getElementById('loginUsername').value;
      const password = document.getElementById('loginPassword').value;
      if (username && password) {
        localStorage.setItem('username', username);
        document.getElementById('login-container').style.display = 'none';
        document.getElementById('blog-container').style.display = 'block';
        document.getElementById('logoutBtn').style.display = 'inline-block';
      } else {
        alert('Vui lòng điền đầy đủ thông tin.');
      }
    }

    // Đăng ký
    function register() {
      const username = document.getElementById('registerUsername').value;
      const password = document.getElementById('registerPassword').value;
      if (username && password) {
        alert('Đăng ký thành công! Bạn có thể đăng nhập ngay bây giờ.');
        showLogin();
      } else {
        alert('Vui lòng điền đầy đủ thông tin.');
      }
    }

    // Đăng xuất
    function logout() {
      localStorage.removeItem('username');
      document.getElementById('login-container').style.display = 'block';
      document.getElementById('blog-container').style.display = 'none';
      document.getElementById('logoutBtn').style.display = 'none';
      alert('Đã đăng xuất.');
    }

    // Chỉnh sửa cỡ chữ
    function changeFontSize() {
      var size = document.getElementById('fontSize').value;
      quill.root.style.fontSize = size + 'px';
    }

    // Tính năng thêm văn bản in đậm
    function toggleBold() {
      quill.format('bold', !quill.getFormat()['bold']);
    }

    // Tính năng thêm văn bản in nghiêng
    function toggleItalic() {
      quill.format('italic', !quill.getFormat()['italic']);
    }

    // Tính năng gạch chân văn bản
    function toggleUnderline() {
      quill.format('underline', !quill.getFormat()['underline']);
    }

    // Tính năng danh sách
    function toggleList() {
      quill.format('list', quill.getFormat()['list'] === 'bullet' ? false : 'bullet');
    }

    // Tính năng chèn hình ảnh
    function insertImage() {
      const url = prompt('Nhập URL của hình ảnh');
      if (url) {
        quill.insertEmbed(quill.getSelection().index, 'image', url);
      }
    }

    // Lưu bài viết
    function savePost() {
      const content = quill.root.innerHTML;
      let posts = JSON.parse(localStorage.getItem('posts')) || [];
      posts.push(content);
      localStorage.setItem('posts', JSON.stringify(posts));

      alert('Bài viết đã được lưu!');
      displayPosts();
    }

    // Hiển thị các bài viết
    function displayPosts() {
      const posts = JSON.parse(localStorage.getItem('posts')) || [];
      const postsContainer = document.getElementById('blog-posts');
      postsContainer.innerHTML = '';

      posts.forEach((post, index) => {
        const postDiv = document.createElement('div');
        postDiv.className = 'post';
        postDiv.innerHTML = post;
        postsContainer.appendChild(postDiv);
      });
    }
  </script>
</body>
</html>
